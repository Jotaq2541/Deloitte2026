<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Deloitte AI Experience</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* ===== RESET ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #0b1d2d, #02080f 70%);
      color: #ffffff;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* ===== FONDO TECNOL√ìGICO ===== */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    /* ===== CONTENEDOR PRINCIPAL ===== */
    .app {
      position: relative;
      z-index: 1;
      width: 95%;
      max-width: 1200px;
      background: rgba(10, 25, 40, 0.65);
      backdrop-filter: blur(14px);
      border-radius: 24px;
      padding: 32px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
      box-shadow: 0 0 80px rgba(0, 180, 255, 0.15);
    }

    /* ===== AVATAR ===== */
    .avatar-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
    }

    .avatar-frame {
      width: 100%;
      max-width: 420px;
      aspect-ratio: 9 / 16;
      background: radial-gradient(circle at top, #123a5a, #05131f);
      border-radius: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: inset 0 0 40px rgba(0, 180, 255, 0.3);
      overflow: hidden;
    }

    .avatar-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .voice-select {
      width: 100%;
      max-width: 320px;
    }

    /* ===== PANEL DE INTERACCI√ìN ===== */
    .panel {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    h1 {
      font-size: 1.8rem;
      font-weight: 600;
    }

    p.sub {
      color: #b7d6ea;
      font-size: 0.95rem;
    }

    textarea {
      width: 100%;
      min-height: 90px;
      resize: none;
      border-radius: 12px;
      border: none;
      padding: 14px;
      font-size: 1rem;
    }

    button {
      align-self: flex-start;
      background: linear-gradient(135deg, #00b4ff, #0077b6);
      color: #fff;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1rem;
    }

    button:hover {
      opacity: 0.9;
    }

    .response {
      background: rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 16px;
      min-height: 80px;
      font-size: 0.95rem;
      line-height: 1.4;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 900px) {
      .app {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>

  <div class="app">

    <!-- ===== AVATAR ===== -->
    <div class="avatar-box">
      <div class="avatar-frame">
        <!-- Pod√©s cambiar esto por un <video> si quer√©s -->
        <img src="avatar-mujer.png" alt="Avatar Deloitte AI">
      </div>

      <select id="voiceSelect" class="voice-select"></select>
    </div>

    <!-- ===== PANEL DE PREGUNTAS ===== -->
    <div class="panel">
      <h1>Pregunt√° a Deloitte AI</h1>
      <p class="sub">
        Consult√° sobre servicios, innovaci√≥n, estrategia y transformaci√≥n.
      </p>

      <textarea id="question" placeholder="Escrib√≠ tu pregunta aqu√≠..."></textarea>

      <button id="askBtn">Responder</button>

      <div id="response" class="response">
        La respuesta aparecer√° aqu√≠.
      </div>
    </div>

  </div>

  <script>
    /* ===== TEXT TO SPEECH ===== */
    const voiceSel = document.getElementById("voiceSelect");
    let voices = [];

    function loadVoices() {
      voices = speechSynthesis.getVoices();
      voiceSel.innerHTML = "";

      const allowedCountries = [
        { code: 'CR', label: 'Costa Rica üá®üá∑' },
        { code: 'GT', label: 'Guatemala üá¨üáπ' },
        { code: 'SV', label: 'El Salvador üá∏üáª' },
        { code: 'HN', label: 'Honduras üá≠üá≥' },
        { code: 'NI', label: 'Nicaragua üá≥üáÆ' },
        { code: 'PA', label: 'Panam√° üáµüá¶' },
        { code: 'DO', label: 'Rep. Dominicana üá©üá¥' }
      ];

      const femaleVoices = voices.filter(v =>
        /^es/i.test(v.lang) &&
        /female|mujer|woman/i.test(v.name + " " + v.voiceURI)
      );

      allowedCountries.forEach(c => {
        const match = femaleVoices.find(v =>
          v.lang.toUpperCase().includes(c.code)
        );
        if (match) {
          const opt = document.createElement("option");
          opt.value = match.name;
          opt.textContent = `Mujer ‚Äì ${c.label}`;
          voiceSel.appendChild(opt);
        }
      });

      if (!voiceSel.options.length) {
        femaleVoices.forEach(v => {
          const opt = document.createElement("option");
          opt.value = v.name;
          opt.textContent = "Mujer ‚Äì Espa√±ol Latino";
          voiceSel.appendChild(opt);
        });
      }
    }

    speechSynthesis.onvoiceschanged = loadVoices;
    loadVoices();

    /* ===== RESPUESTAS ===== */
    const askBtn = document.getElementById("askBtn");
    const responseBox = document.getElementById("response");

    askBtn.addEventListener("click", () => {
      const text = "Gracias por tu consulta. Deloitte ofrece soluciones integrales en estrategia, innovaci√≥n y transformaci√≥n digital.";

      responseBox.textContent = text;

      const utter = new SpeechSynthesisUtterance(text);
      const selectedVoice = voices.find(v => v.name === voiceSel.value);
      if (selectedVoice) utter.voice = selectedVoice;
      utter.lang = "es-CR";

      speechSynthesis.cancel();
      speechSynthesis.speak(utter);
    });
  </script>

</body>
</html>
